# 京东面经

## 一面

本来视频面试，但是由于面试官视频有点问题因此改成电话面试，水果手机没法电话录音因此问题有所缺漏。全程 26 分钟，涉及内容包括 Java 数据类型

### 1. Java 里面什么是值传递什么是引用传递

基础类型是值传递、引用类型是引用传递



### 2. 有啥数据类型

我回答了列表、栈、队列、set



### 3. ArrayList 和 LinkedList 有啥区别

前者数组，查找时间复杂度低，删除时间复杂度高，需要扩容；

后者链表，查找时间复杂度高，删除时间复杂度低，不需要扩容


### 4. 知道 HashSet 么？

知道，其实底层封装了 HashMap



### 5. ArrayList 和 HashSet 有什么区别？

一个是列表，一个是 set，set 保证了数据的唯一性，而列表不会



### 6. 什么时候用 Set 什么时候用 列表

？？？需要保证数据唯一的时候用 set，不需要的时候用列表呗



### 7. 怎么保证数据的唯一性？

因为它的底层是 HashMap，因此我们需要保证他的 hashcode() 方法得出的结果唯一，所以我们可以重写这个方法。


### 8. String、StringBuffer、StringBuilder 的区别

String：不可变，线程安全

StringBuffer：可变，线程安全

StringBuilder：可变，线程不安全



### 9. 什么时候用上面三者？

看情况



### 10. 什么是 Spring IoC？

控制反转，即新建 bean 实例不需要使用类来进行 new，而是通过构造方法、方法设置以及依赖注入的方法来实现。



### 11. 用过什么注解？

`@Autowired`用来自动装载，`@Controller`标注 Controller 类，`@Service`标注 Service 类，`@Configuration`标注配置类等等



### 12. `@Autowired` 和 `@Resource`有什么区别？

不知道，没用过后者



### 13. 如果代码中写了`@Autowired`但是实际上不想让他装载，应该怎么办？

我回答了在`@ComponentScan`注解里面把这个类所在包从扫描的包中剔除



### 14. Spring 单例有什么好处和坏处？

好处：bean 的生命周期完全由容器控制，不需要担心类的创建、空间的浪费

坏处：如果有一些变量什么的可能会导致线程不安全



### 15. 有什么办法能解决上面的线程安全问题？

可以直接给属性加 synchronized 关键字，或者将属性设为私有的，通过方法来访问，这些方法必须使用锁或者 synchronized 关键字修饰。



### 16. 如果不用锁呢？

可以使用自旋锁 + CAS 的方法



### Mybatis 中 # 和 $ 有啥区别？

不知道。。。



### 什么是 Spring AOP？

面向切面编程



### 有啥问题

略



## 二面

emmm。。又是电话面，没有录音。全程大概 30 分钟不到，感觉还可以

### 1. 问了项目相关问题

略



### 2. JVM 的垃圾收集算法？

标记删除、标记复制、标记整理



### 3. 红黑树产生的背景和应用

（背景我咋知道啊。。。几几年谁谁谁提出的？）应用比如说 Java 中的 HashMap（尽量往自己知道的方面扯）。



### 4. 操作系统了解吗？

除了日常使用的一些命令之外，其他的就不是很了解，比如说内核态用户态什么的不是很清楚。



### 5. 查看端口是否被占用用什么命令？怎么查看端口的 TCP 连接呢？

前者用 lsof -i，后者应该可以用 netstat 查看吧



### 6. 项目中用到的分布式锁

项目里没有用，但是可以使用 数据库、redis、zk 做分布式锁



### 7. 数据库事务隔离级别

四种

读未提交、读已提交、可重复读、串行化



### 8. 数据库里面的锁

emmm。。。如果说从锁的范围来说，有表锁、页锁、行锁、全局锁。如果说底层的话，有 record lock、gap lock、next-key lock。如果说锁的竞争机制的话，有乐观锁、悲观锁，很多



### 9. 常用引擎中有哪些锁？

上面的锁，innodb 中都有。但是 MyISAM 不支持事务，因此他只有全局锁。



### 10. 分布式事务算法有些？

不知道。。。



### 11. 在项目里的主要贡献？

略



### 12. 学习生涯中哪些对你帮助最大？

略



### 有啥问题？

略



## HR 面

电话面木有录音，题目都列出来了答案就不回答了，因人而异参考也无用。面试官感觉是个新入职的小姐姐，感觉不太有精神。。。大家都要加油啊！

### 1. 问了本科学校、考研的事情



### 2. 看你项目经历只有一次，为什么？



### 3. 问了学院的事情



### 4. 有没有为实习做的准备？（我？？？都不能实习做啥准备？）



### 5. 找工作看重哪些要素？



### 6. 最近还投过什么么？



### 7. 你刚才说了薪资问题，你的期望薪资是？



### 8.（由于前面说手头上有的 offer）现在有的 offer 达到你的期望薪资了么？



### 9. 你怎么看待 xx 公司和京东？



### 10. 职业规划



### 11. 怎么看待加班问题？



### 12. 职业规划中，自己哪些缺点会造成影响？



### 13. 同学们、老师们对你的评价



### 14. 自己的优点



### 15. 你有什么问题？



## 一面（冈哥）

### 1. HashMap的实现？

实际键值对的保存呢是通过节点数组来保存的，数组可以看成是一个个的 bucket，每个节点其实都是一个链表或者红黑树，具体是链表还是红黑树得看链表长度和 HashMap 设置的默认值的关系。



### 2. Hash的具体函数是怎么样的

函数比较多，关键的是 `putVal()、resize()、remove()、treeifyBin()`这些



### 3. 为什么容量是2的幂次 

因为计算 bucket 所在位置下标时计算方式为 (n-1) & hash，当 n 是 2 的幂次时， n-1 保证了除了第一位其他都是 1 的情况，而按位与 & 操作是只有两者都为 1 结果才 为 1。如果前面 n-1 二进制中 0 的数量多了，这样 hash 中是 1 还是 0 其实重要性都不大，因此发生碰撞的可能性会更大。



### 4. 你了解Jvm的内存结构吗

线程私有：程序计数器、虚拟机栈、本地方法栈

线程共享：堆、方法区



### 5. 写代码造堆溢出

死循环不断创建对象即可



### 6. 写代码造栈溢出

无限递归没有终止条件即可



### 7. 你在项目中写过需要并发的代码吗

写过，在同步模块中，为了让大量数据快速写入并控制线程数量防止数据库崩溃，用了线程池



### 8. 你在项目说的两台机器之间是通过RPC还是什么调用

没有使用 RPC，RPC 的使用比较严格，需要调用者实现一个被调用者的接口。这边使用 WebService 的方法进行调用，一方面是控制了权限，另一方面是解耦系统的平台局限性。



### 9. 两个线程怎么在一个进程里面传递数据

使用父线程的共享数据，也就是临界区，或者使用消息队列等中间件、缓存、数据库



### 10. 你用过volatile关键字

了解过没用过



### 11. 一个int变量被volatile修饰，10000个线程进行i++操作会得到10000嘛

不会，肯定会小于 10000。因为 volatile 只保证了有序性和可见性，不能保证原子性



### 12. 你们前后端怎么交互的

前端发送 HTTP 请求到 nginx，由 nginx 进行转发发送到对应的服务模块



### 13. 有用到redis嘛

有，一个是 session 存储，另一个是常用数据的缓存。



### 14. 问我有没有用到rpc框架

没有用过



### 15. 你这边有什么问题要问我嘛

略


## 二面（冈哥的）

可能因为面试完迟到了20分钟，出乎意料的短，十五分钟

### 1. 自我介绍



### 2. sleep（）和wait（）区别



### 3. 线程池原理



### 4. 类加载过程



### 5. 开闭原则



### 6. 聊聊意向地，职业发展等



## [京东提前批-Java-一面](https://www.nowcoder.com/discuss/450949?type=post&order=time&pos=&page=1&channel=666&source_id=search_post)

### 1. 自我介绍

略



### 2. 介绍一下快排

快排的主要思想其实就是分治。先找一个基准值，将比他小的放到他的左边，比他大的放到他的右边，然后对两个自取件分别进行，从而使得整体有序。



### 3. 如何判断链表有环

一个简单的方法是使用一个 set 记录过出现的节点。另一个方式是使用快慢指针，这个方法还能找到环的入口。



### 4. 介绍HashMap

实际键值对的保存呢是通过节点数组来保存的，数组可以看成是一个个的 bucket，每个节点其实都是一个链表或者红黑树，具体是链表还是红黑树得看链表长度和 HashMap 设置的默认值的关系。



### 5. 什么时候转为红黑树

当链表长度大于 HashMap 的默认值 8 时，就会调用 treeifyBin 方法



### 6. 如何使HashMap线程安全

在使用 HashMap 时加锁或者使用 synchronized 关键字修饰，或者改用 CocurrentHashMap。



### 7. 介绍ConcurrentHashMap

其实就是在 HashMap 的基础上加上了分段锁，对每个 bucket 进行加锁。在 1.8 以后 segmentLock 变成了 synchronzied。



### 8. 乐观锁悲观锁

乐观锁就是觉得一般不会放生冲突，只有当进行提交更新时才会进行检查。比如说 JDK 并发包里的原子类。

悲观锁就是对冲突起悲观态度，因此在整个过程中都持有锁，使得别的任务处于阻塞状态。比如说 synchronized、Lock。



### 9. 悲观锁的应用场景

synchronized 或者 lock



### 10. 线程同步

四种方式：互斥锁（同一时间只允许拥有锁的线程进行访问，如 synchronized）、条件变量（也称事件，等待条件成立，比如说消息队列中 product 的数量）、临界区（同一时间只允许一个线程对共享资源进行访问）、信号量（允许多线程访问，有个计数器计算当前线程数量）



### 11. 如何实现一个生产者消费者模型，使用什么数据结构

使用链表构建队列，然后生产者负责生产，将商品放入队列中，而消费者负责从队列中获取商品进行消耗。



### 12. 看过什么源码？我说hashmap等集合，还有spring。然后他也没问spring相关

略



### 13. 问你这些竞赛还有项目经历印象最深刻的是什么？

略



### 14. 意向工作地是北京？(应该是我当时填的北京）

略



### 15. 介绍了研究生的课题相关

略



### 16. JVM的回收机制

垃圾回收机制？

老样子，分成 什么时候回收？回收什么，怎么判别？怎么回收？三部分



### 17. 反问

略



## [京东Java一面面经](https://www.nowcoder.com/discuss/452251?type=0&order=0&pos=268&page=1&source_id=discuss_center_0&channel=666)

### 1. Java实现多线程应该如何实现

集成 Thread 类、实现 Runnable 接口、实现 Callable 接口



### 2. 如何解决卖票的超卖问题

最简单的方式就是加锁，可以使用 synchronized 或者 lock 都行



### 3. 可不可以不加锁来解决超卖问题，有没有更好的方法

可以，使用自旋锁 + CAS 的方式，其实就是乐观锁啦



### 4. JVM的调优

没调过



### 5. 字节码变为运行类的机制是什么

类加载机制，即加载、验证、准备、解析、初始化五个阶段。



### 6. 如何处理数据的高并发与大吞吐，你一般是使用什么机制

削峰



### 7.非常大的连续数组有几种方式对其进行排序，最优的方式是哪一种

冒泡、选择、快排、堆排、归并



### 8. 从一个非常大的无序序列中找出最大的N个数用什么方法

堆排，或者快排也行



### 9. 如果系统挂了，你一般都是如何定位，如何解决。具体流程有哪些。

基本上是看日志解决



### 10. 反问

略
